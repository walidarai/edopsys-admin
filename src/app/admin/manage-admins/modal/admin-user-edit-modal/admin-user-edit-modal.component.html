<form [formGroup]="userForm" class="flex flex-col gap-4" (ngSubmit)="onSave()">
    <app-shared-modal [isVisible]="isVisible" (close)="onClose()">
        <div class="modal-header">Add User</div>
        <div class="modal-body flex flex-col gap-4">
            <div>
                <label for="email">
                    Email:
                    <span class="text-red-500">*</span>
                </label>
                <input
                    id="email"
                    type="text"
                    formControlName="email"
                    class="w-full rounded-md border border-gray-300 p-2"
                    placeholder="admin@email.com"
                    [ngClass]="{
                        'border-red-500': email.touched && email.invalid,
                    }"
                />
                <div
                    *ngIf="email.touched && email.invalid"
                    class="text-sm text-red-500"
                >
                    <span *ngIf="email.errors?.['required']">
                        This field is required.
                    </span>
                    <span *ngIf="email.errors?.['minlength']">
                        Email must be at least 3 characters long.
                    </span>
                </div>
            </div>
            <div>
                <span>
                    Permission:
                    <span class="text-red-500">*</span>
                </span>
                <div class="flex flex-col mt-2">
                    <label *ngFor="let permission of permissions">
                        <input
                            type="radio"
                            [value]="permission.value"
                            formControlName="permission"
                            class="form-radio text-indigo-600"
                        />
                        <span class="ml-2">{{ permission.text }}</span>
                    </label>
                </div>
            </div>
            <span class="text-sm">
                <span class="text-red-500">*</span>
                Required Fields
            </span>
        </div>
        <div class="modal-footer flex justify-center gap-4">
            <button (click)="onClose()" button-hover-outline-neutral>
                Cancel
            </button>
            <button button-primary [disabled]="!userForm.valid">Save</button>
        </div>
    </app-shared-modal>
</form>
